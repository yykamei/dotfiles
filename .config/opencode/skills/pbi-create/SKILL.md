---
name: pbi-create
description: スクラムのプロダクトバックログアイテム（PBI）を対話的に作成する
context: current
agent: general-purpose
allowed-tools: Write, Read, Glob
---

# プロダクトバックログアイテム作成

スクラムの**プロダクトバックログアイテム (PBI)** を、ユーザーとの対話を通じて作成するスキルです。

## 使い方

ビジネス面での要求を指定して実行します:

```bash
/pbi-create [実現したいこと・課題]
```

例:

```bash
/pbi-create ワーカーが勤怠実績を自分で確認できるようにしたい
```

```bash
/pbi-create 企業が募集条件を柔軟に変更できるようにしたい
```

**ポイント**: 引数には「how（どう実現するか）」ではなく「what/why（何を実現したいか・なぜ必要か）」を伝えてください。

---

## 出力フォーマット

最終的に以下のフォーマットで PBI を出力します:

```markdown
# 概要

[何をしたいのか、それをやりたい背景は何か、これによって価値を提供できるユーザーは誰か、最終的なアウトカムは何か]

# 受入基準

- [ ] ...
- [ ] ...

# 起こったら困ること

- ...
- ...
```

### 各セクションのガイドライン

- **概要**: 何を・なぜ・誰に・どんなアウトカムを、の4点を自然な文章で記述する
- **受入基準**: 「満たしたい状態」を定義する。実装の詳細（API設計、DB設計、具体的なUI要素など）には踏み込まない。「〜できること」「〜が担保されていること」のような状態の記述にする
- **起こったら困ること**: デグレや意図しない副作用を中心に、簡潔な箇条書きで記述する

---

## 実行フロー

```
Progress:
- [ ] Phase 1: 意図の深掘り
- [ ] Phase 2: 受入基準と起こったら困ることの整理
- [ ] Phase 3: PBI の出力とレビュー
```

### Phase 1: 意図の深掘り

ユーザーが与えた引数をもとに、PBI の「概要」セクションを書くために必要な情報を質問で明確にする。

以下の観点が不明確な場合、**1つずつ質問して**確認する:

1. **What（何をしたいのか）**: 実現したい機能や変更の本質
2. **Why（背景）**: なぜ今それが必要なのか、どんな課題やペインがあるのか
3. **Who（対象ユーザー）**: この変更で価値を受け取るのは誰か（ワーカー、企業、社内オペレーターなど）
4. **Outcome（最終的なアウトカム）**: これが実現された場合、どんな状態になれば成功と言えるか

引数から十分に読み取れる情報については質問を省略してよい。すべてが明確な場合はこのフェーズをスキップできる。

### Phase 2: 受入基準と起こったら困ることの整理

Phase 1 で得た情報をもとに、受入基準と起こったら困ることを整理する。

**受入基準について**:

- まずエージェント側で受入基準の案を提示し、ユーザーに過不足を確認する
- 「満たしたい状態」として定義する（例: 「ワーカーが過去の勤怠実績一覧を確認できること」）
- 実装の詳細には踏み込まない（例: NG「REST API で GET /attendances を実装する」）
- 不足している観点があればユーザーに質問する

**起こったら困ることについて**:

- 既存機能へのデグレや意図しない副作用を中心にヒアリングする
- エージェント側でも想定されるリスクを提示し、ユーザーに確認する
- 箇条書きで簡潔に記述する

### Phase 3: PBI の出力とレビュー

- 出力フォーマットに従って PBI を Markdown で出力する
- ユーザーにレビューしてもらい、修正が必要な場合は対応する
- ユーザーが希望すればファイルとして保存する

---

## インタラクションの原則（最重要）

このスキルでは、**ユーザーとの対話を最大限に重視**します。

- **推測せず必ず質問する**: AI エージェントはユーザーの背景情報を持っていない。曖昧な表現や複数の解釈が可能な場合は、自分の解釈で進めず必ず質問する
- **一度に一つの質問だけ**: 質問は1つずつ行い、ユーザーの回答を待ってから次の質問をする。質問を箇条書きでまとめて投げかけない
- **納得するまで先に進まない**: すり合わせが不十分なまま次のフェーズに進まない。ユーザーの意図を十分に理解できたと確信してから PBI を生成する
- **Few-shot による改善に頼らない**: 出力後に修正を繰り返すのではなく、事前の質問で正しい方向性を確立する
